# 01_syntax_semantics

このページでは、命題論理で最初に必須となる
**構文（syntax）と意味（semantics）の切り分け**を学びます。

ここが曖昧なまま進むと、
- 「式として正しいか」
- 「真として正しいか」

を混同して、以降の真理値表や証明で必ず詰まります。
先にこの土台を固めておきましょう。

---

## 1. このページの到達目標
- 何が「論理式として合法」かを判定できる。
- 構文規則（作り方）を説明できる。
- 与えられた割当の下で式の真偽を計算できる。
- `⊢`（証明）と `⊨`（意味的帰結）の前提になる考え方を理解する。

---

## 2. 全体像（この図で「形」と「意味」の流れを読み取る）
次の図は、命題論理での処理順を示しています。

```mermaid
flowchart TD
    A[自然言語の主張] --> B[命題記号へ置換<br/>P,Q,R...]
    B --> C[構文規則で式を構成<br/>¬,∧,∨,->]
    C --> D{式として合法か?}
    D -- No --> E[括弧・結合子を修正]
    E --> C
    D -- Yes --> F[真偽割当を与える<br/>v(P),v(Q)...]
    F --> G[意味規則で評価]
    G --> H[式の真偽が決まる]
```

ポイントは、**合法性チェック（構文）と真偽評価（意味）は段階が別**だということです。

---

## 3. 構文（syntax）：式の作り方

### 3.1 命題論理の最小構文規則
1. 命題記号 `P, Q, R, ...` は式である。
2. `A` が式なら `¬A` は式である。
3. `A, B` が式なら `(A ∧ B)`, `(A ∨ B)`, `(A -> B)` は式である。
4. 上の規則で有限回生成されたものだけを式とする。

### 3.2 構文上の典型ミス
- `P ∧`（右側が欠落）
- `-> P Q`（記法が規則に合っていない）
- `¬(P ∨ Q`（括弧閉じ忘れ）

これらは「真偽以前」に不正です。

---

## 4. 意味（semantics）：式の真偽の決め方

### 4.1 真偽割当
命題記号へ `真/偽` を割り当てる関数を考えます。
例：
- `v(P)=真`
- `v(Q)=偽`

### 4.2 結合子の評価規則（最小）
- `v(¬A)` は `v(A)` の反転
- `v(A ∧ B)` は両方真のときだけ真
- `v(A ∨ B)` は少なくとも一方真で真
- `v(A -> B)` は `A=真, B=偽` のときだけ偽

### 4.3 例
式 `(P -> Q) ∧ P` を、`v(P)=真, v(Q)=偽` で評価すると
- `P -> Q = 偽`
- よって `(P -> Q) ∧ P = 偽 ∧ 真 = 偽`

このように、意味論は「規則的な計算」です。

---

## 5. 直観例：同じ構文、異なる真偽
`P ∨ ¬P` は構文的には常に合法です。
さらに意味的にも、どんな割当でも真になります（トートロジー）。

一方 `P ∧ ¬P` も構文的には合法ですが、どんな割当でも偽です（矛盾式）。

ここから分かることは、
- 構文の合法性と
- 意味での良し悪し（常真・充足可能・矛盾）
は別軸だということです。

---

## 6. よくあるつまずき
- 括弧を省略しすぎて結合順を誤る。
- `->` を日常言語の因果と完全同一視する。
- 「式が書ける」ことを「主張が正しい」ことと混同する。

### 対策
1. まず構文チェック、次に意味評価の順を固定する。
2. `->` は真理値規則で扱い、因果解釈は補助にとどめる。
3. 1問につき「構文判定」「意味評価」を別見出しでノート化する。

---

## 7. ミニ演習
1. 次のうち、構文的に合法な式を選ぶ。
   - `P ∨`
   - `(P -> Q) ∧ ¬R`
   - `¬¬(P)`
2. `v(P)=偽, v(Q)=真` のとき `P -> Q` と `Q -> P` の真偽を求める。
3. `P ∨ ¬P` と `P ∧ ¬P` の違いを、構文と意味の両面で説明する。

---

## 学習チェック（自己確認）
- 「構文」と「意味」を1文ずつで区別して説明できる。
- 不正な式を見たとき、真偽計算に進まず修正できる。
- 同じ式を別の割当で評価し、結果の違いを説明できる。

---

## ナビゲーション
- 親: [00_overview.md](00_overview.md)
- 次: [02_truth_tables.md](02_truth_tables.md)
